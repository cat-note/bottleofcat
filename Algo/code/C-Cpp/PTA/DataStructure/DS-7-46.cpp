#include <cstdio>
#include <string>
#include <unordered_map>

using namespace std;

// å“ˆå¸Œè¡¨é¡¹ï¼Œä»£è¡¨ä¸€ä¸ªè¯é¢˜è¢«è®¿é—®çš„æƒ…å†µ
struct TopicAccess
{
    int access;   // è¯é¢˜è®¿é—®æ¬¡æ•°
    int lastPost; // æœ€åä¸€æ¬¡è®¿é—®çš„æ˜¯å“ªä¸€æ¡å¾®åš(ç”¨äºå»é‡)
    TopicAccess()
    {
        access = 0;
        lastPost = -1;
    }
};

typedef unordered_map<string, TopicAccess> HashTable;

int main()
{
    int postNum;              // å¾®åšæ¡æ•°
    scanf("%d%*c", &postNum); // é¡ºå¸¦å–èµ°è¡Œæœ«çš„æ¢è¡Œç¬¦
    // å¼€å§‹è¯»å–å¾®åš
    HashTable table;           // å“ˆå¸Œè¡¨ï¼Œè¯é¢˜å­—ç¬¦ä¸²ä½œä¸ºé”®
    bool readingTopic = false; // æ ‡è®°æ˜¯å¦æ­£åœ¨è¯»å–#å’Œ#ä¹‹é—´çš„è¯é¢˜
    bool readingWord = false;  // æ ‡è®°æ˜¯å¦æ­£åœ¨è¯»å–ã€ä¸€ä¸ªè¯é¢˜ã€‘ä¸­çš„å•è¯ï¼Œç”¨äºè¾…åŠ©ç©ºæ ¼åˆ†éš”
    char strBuf[141];          // ä¸´æ—¶å­—ç¬¦æ•°ç»„
    int tmpLen = 0;            // ä¸´æ—¶å­—ç¬¦æ•°ç»„å…ƒç´ æ•°
    int postId = 0;            // å½“å‰è¯»å–çš„å¾®åšID(ç”¨äºå»é‡)(0~N-1)
    string strTemp;            // ä¸´æ—¶å­—ç¬¦ä¸²
    while (postId < postNum)
    {
        char readChr; // è¯»å…¥çš„å­—ç¬¦
        int reader = scanf("%c", &readChr);
        if (readChr == '\n' || reader == EOF) // è¯»åˆ°äº†è¡Œæœ«ï¼Œè¯´æ˜ä¸€æ¡å¾®åšè¯»å–å®Œæ¯•
        {
            postId++;
            continue;
        }
        if (readChr == '#') // é‡åˆ°#è¯´æ˜å¼€å§‹æˆ–ç»“æŸè¯»å–ä¸€ä¸ªè¯é¢˜
        {
            if (readingTopic)
            {
                // ä¸€ä¸ªè¯é¢˜è¯»å–ç»“æŸ
                strBuf[tmpLen] = '\0'; // å°è£…æˆå­—ç¬¦ä¸²
                strTemp.assign(strBuf);
                TopicAccess &topic = table[strTemp];
                if (topic.lastPost != postId) // åˆ¤æ–­ä¸Šä¸€æ¬¡åŒ…å«è¿™ä¸ªè¯é¢˜çš„å¾®åšæ˜¯ä¸æ˜¯å½“å‰è¿™æ¡
                {
                    // é˜²æ­¢åŒä¸€æ¡å¾®åšå‡ºç°å¤šä¸ªç›¸åŒçš„è¯é¢˜ï¼Œå»ä¸ªé‡
                    topic.lastPost = postId;
                    topic.access++; // è¯é¢˜è®¿é—®æ¬¡æ•°å¢åŠ 
                }
                tmpLen = 0; // æ¸…ç©ºå­—ç¬¦ä¸²ç¼“å­˜
            }
            else // å¼€å§‹è¯»å–ä¸€ä¸ªè¯é¢˜
            {
                // æ ‡è®°å¼€å§‹è¯»å–è¯é¢˜ä¸­çš„ä¸€ä¸ªè¯
                readingWord = true; // ä¸ºtrueä»£è¡¨ä¸åœ¨è¯é¢˜å­—ç¬¦ä¸²å¤´éƒ¨è¾“å‡ºç©ºæ ¼
            }
            readingTopic = !readingTopic;
            continue;
        }
        if (readingTopic) // æ­£åœ¨è¯»å–å½“å‰å¾®åšä¸­çš„ã€ä¸€ä¸ªè¯é¢˜ã€‘
        {
            if (readChr >= 'A' && readChr <= 'Z') // å°†å¤§å†™å­—æ¯å…¨è½¬æ¢ä¸ºå°å†™
                readChr += ('a' - 'A');
            if (readChr >= 'a' && readChr <= 'z' || readChr >= '0' && readChr <= '9')
            {
                // è¯»å…¥çš„æ˜¯æœ‰æ•ˆå­—ç¬¦
                if (!readingWord)
                {
                    // å¦‚æœä¸Šä¸€ä¸ªè¯»å…¥çš„å­—ç¬¦ä¸æ˜¯å­—æ¯æˆ–æ•°å­—ï¼Œå°±å¡«å……ä¸€ä¸ªç©ºæ ¼
                    strBuf[tmpLen++] = ' ';
                    readingWord = true; // æ ‡è®°æ­£åœ¨è¯»å–ä¸€ä¸ªå•è¯
                }
                strBuf[tmpLen++] = readChr; // è¯»å…¥å­—ç¬¦
            }
            else
            {
                // å¦åˆ™è¯»å…¥çš„æ˜¯å…¶ä»–å­—ç¬¦
                readingWord = false; // æ ‡è®°ä¸åœ¨è¯»å•è¯
            }
        }
    }
    // å¼€å§‹å¤„ç†è¾“å‡º
    string hottest;      // æœ€çƒ­é—¨è¯é¢˜
    int referNum = 0;    // è¢«æåŠçš„æ¬¡æ•°
    int parallelNum = 0; // å¹¶åˆ—è¢«æåŠæœ€å¤šçš„çƒ­é—¨è¯é¢˜æ•°
    for (HashTable::iterator it = table.begin(); it != table.end(); it++)
    {
        if (it->second.access > referNum)
        {
            // æ‰¾åˆ°äº†è¢«è®¿é—®æ›´å¤šæ¬¡çš„è¯é¢˜
            referNum = it->second.access;
            hottest = it->first;
            parallelNum = 0; // æ­¤æ—¶å¹¶åˆ—æ•°ä¹Ÿè¦æ¸…é›¶
        }
        else if (it->second.access == referNum)
        {
            // å¹¶åˆ—æ•°å¢åŠ 
            parallelNum++;
            if (it->first.compare(hottest) < 0)
            {
                // å¦‚æœè¿™ä¸ªå¹¶åˆ—çš„å­—å…¸åºæ›´å°ï¼Œå°±ä¼˜å…ˆè¾“å‡ºå®ƒ
                hottest = it->first;
            }
        }
    }
    // è¾“å‡ºç»“æœ
    if (hottest[0] >= 'a' && hottest[0] <= 'z') // é¦–å­—æ¯å¤§å†™
        hottest[0] -= ('a' - 'A');
    printf("%s\n%d\n", hottest.c_str(), referNum);
    if (parallelNum)
        printf("And %d more ...", parallelNum);
    return 0;
}

/*
    åˆæ˜¯ä¸€é“è€ƒå­—ç¬¦ä¸²å“ˆå¸Œçš„é¢˜ï¼Œä½†è¿™é¢˜çš„ä¾§é‡ç‚¹å…¶å®æ˜¯ã€åˆ†è¯ã€‘çš„å¤„ç†ã€‚
    è¿™é¢˜çš„å­—ç¬¦ä¸²å“ˆå¸Œçš„å®ç°ä¸ä¹‹å‰çš„ç›¸å·®æ— å‡ ï¼Œå°±ä¸å¤šå†™äº†ï¼Œç›´æ¥ä¸Šunordered_map!

    --------------------------------

    åˆ¤æ–­è¯é¢˜ç›¸åŒ: å»æ‰æ‰€æœ‰éè‹±æ–‡å­—æ¯å’Œæ•°å­—çš„ç¬¦å·ã€å¹¶å¿½ç•¥å¤§å°å†™åŒºåˆ«åï¼Œå®ƒä»¬æ˜¯ç›¸åŒçš„å­—ç¬¦ä¸²ä¸”åŒæ—¶å®ƒä»¬æœ‰å®Œå…¨ç›¸åŒçš„åˆ†è¯

        1. è¿™è¯´æ˜å‚¨å­˜çš„æ—¶å€™:
            1. å…ˆæŠ¹é™¤å­—ç¬¦ä¸²å¤§å°å†™åŒºåˆ«
            2. ç„¶åè¿›è¡Œåˆ†è¯
            3. å»é™¤æ‰€æœ‰ç¬¦å·åï¼Œå°†åˆ†è¯ç”¨ç©ºæ ¼æ‹¼æ¥èµ·æ¥ã€ä½œä¸ºé”®ã€‘

        2. åŒä¸€æ¡å¾®åšä¸­å‡ºç°å¤šä¸ªç›¸åŒè¯é¢˜çš„è¯ï¼Œåªç®—ä¸€ä¸ªï¼Œå› æ­¤éœ€è¦è¿›è¡Œã€å»é‡ã€‘æ“ä½œ

    -------------------------------------
    å®é™…ä¸Šç¨‹åºåœ¨è¯»å–çš„è¿‡ç¨‹ä¸­å°±å¯ä»¥ã€å°†æ¯æ¡å¾®åšã€‘è½¬æ¢ä¸ºã€ç©ºæ ¼åˆ†éš”çš„åˆ†è¯å­—ç¬¦ä¸²ã€‘:

    æ•´ä¸ªè¾“å…¥è¿‡ç¨‹ä¸­ï¼Œç¨‹åºéƒ½æ˜¯ã€é€å­—ç¬¦è¯»å…¥ã€‘çš„:

        0. é‡åˆ°æ¢è¡Œç¬¦æˆ–è€…è¾“å…¥ç»“æŸæ—¶

            - å¾®åšç¼–å·++

        1. é‡åˆ°#å·æ—¶:

            - å¦‚æœä¹‹å‰æ²¡æœ‰åœ¨è¯»å–è¯é¢˜ï¼Œå°±ã€æ ‡è®°æ­£åœ¨è¯»å–è¯é¢˜ã€‘
                * ä¸”æ ‡è®°ã€ä¸Šä¸€æ¬¡è¯»å–çš„å­—ç¬¦å±äºå•è¯ã€‘ï¼Œä¿è¯ã€è¯é¢˜å¼€å¤´ä¸è¾“å‡ºå¤šä½™ç©ºæ ¼ã€‘

            - å¦‚æœä¹‹å‰æ­£åœ¨è¯»å–è¯é¢˜ï¼Œå°±ã€æ ‡è®°åœæ­¢è¯»å–è¯é¢˜ã€‘

                * æ­¤æ—¶ä¸€ä¸ªè¯é¢˜è¯»å–å®Œæ¯•ï¼Œå°†å­—ç¬¦ä¸²ç¼“å­˜strBufå°è£…æˆstringï¼Œä½œä¸ºã€é”®ã€‘è®¿é—®å“ˆå¸Œè¡¨å…ƒç´ 

                * å–å‡ºå“ˆå¸Œè¡¨å…ƒç´ ï¼Œå…¶ä¸­åŒ…å«ã€ä¸Šä¸€æ¬¡æ‹¥æœ‰è¿™ä¸ªè¯é¢˜çš„å¾®åšçš„ç¼–å·ã€‘ã€ã€è¯é¢˜æåŠæ¬¡æ•°ã€‘ä¸¤ä¸ªå­—æ®µ

                    - å¦‚æœ (ä¸Šä¸€æ¬¡æ‹¥æœ‰è¿™ä¸ªè¯é¢˜çš„å¾®åšçš„ç¼–å· = å½“å‰å¾®åšç¼–å·)ï¼Œè¯´æ˜è¿™ä¸ªè¯é¢˜åœ¨å½“å‰å¾®åšä¸­ã€é‡å¤å‡ºç°ã€‘äº†ï¼Œä¸ä½œé‡å¤å¤„ç†ã€‚

                    - å¦‚æœä¸ç­‰äºçš„è¯ï¼Œå°±æŠŠã€è¯é¢˜æåŠæ¬¡æ•°ã€‘++

            ä¸‹é¢çš„2ã€3æ­¥çš„å‰æéƒ½æ˜¯ã€æ­£åœ¨è¯»å–è¯é¢˜ã€‘ã€‚

        2. è¯»åˆ°A-Z, a-z, 0-9æ—¶:

            - å¦‚æœã€ä¸Šä¸€æ¬¡è¯»å–çš„å­—ç¬¦ä¸å±äºå•è¯ã€‘ï¼Œå°±å…ˆåœ¨ã€å­—ç¬¦ä¸²ç¼“å­˜strBufå°¾éƒ¨åŠ ä¸€ä¸ªç©ºæ ¼ã€‘ï¼Œè¾¾åˆ°ç©ºæ ¼åˆ†éš”çš„æ•ˆæœ

            - å¦‚æœæ˜¯A-Zå°±è½¬æ¢ä¸ºå°å†™a-z

            - åŠ å…¥å­—ç¬¦ä¸²ç¼“å­˜strBuf

        3. è¯»å…¶ä»–ç¬¦å·æ—¶:

            - æ ‡è®°ä¸€ä¸ªè¯è¯»å–å®Œæ¯•

    ğŸ’¡ æ³¨æ„æ³¨æ„ï¼å°¤å…¶æ˜¯è¿™ç§è¦ç”¨æ¢è¡Œç¬¦'\n'ç¡®å®šè¯»å–ç»“æŸçš„ç¨‹åºï¼Œä¸€å®šè¦äº‹å…ˆã€å¸æ”¶æ‰æ‰€æœ‰å¤šä½™çš„æ¢è¡Œç¬¦ã€‘ï¼Œä»¥å…å¯¹è¯»å–é€ æˆå½±å“ã€‚

    -------------------------
    è¾“å‡ºçš„æ—¶å€™åªéœ€è¦ã€éå†å“ˆå¸Œè¡¨å…ƒç´ ã€‘ï¼Œæ‰¾åˆ°ç¬¦åˆé¢˜ç›®è¦æ±‚çš„æœ€å°/æœ€å¤§å€¼å³å¯ã€‚è¿™é‡Œå°±ä¸å¤šèµ˜è¿°ã€‚

        - SomeBottle 2023.2.4
*/

/*
7-46 æ–°æµªå¾®åšçƒ­é—¨è¯é¢˜
    æ–°æµªå¾®åšå¯ä»¥åœ¨å‘è¨€ä¸­åµŒå…¥â€œè¯é¢˜â€ï¼Œå³å°†å‘è¨€ä¸­çš„è¯é¢˜æ–‡å­—å†™åœ¨ä¸€å¯¹â€œ#â€ä¹‹é—´ï¼Œå°±å¯ä»¥ç”Ÿæˆè¯é¢˜é“¾æ¥ï¼Œç‚¹å‡»é“¾æ¥å¯ä»¥çœ‹åˆ°æœ‰å¤šå°‘äººåœ¨è·Ÿè‡ªå·±è®¨è®ºç›¸åŒæˆ–è€…ç›¸ä¼¼çš„è¯é¢˜ã€‚æ–°æµªå¾®åšè¿˜ä¼šéšæ—¶æ›´æ–°çƒ­é—¨è¯é¢˜åˆ—è¡¨ï¼Œå¹¶å°†æœ€çƒ­é—¨çš„è¯é¢˜æ”¾åœ¨é†’ç›®çš„ä½ç½®æ¨èå¤§å®¶å…³æ³¨ã€‚

    æœ¬é¢˜ç›®è¦æ±‚å®ç°ä¸€ä¸ªç®€åŒ–çš„çƒ­é—¨è¯é¢˜æ¨èåŠŸèƒ½ï¼Œä»å¤§é‡è‹±æ–‡ï¼ˆå› ä¸ºä¸­æ–‡åˆ†è¯å¤„ç†æ¯”è¾ƒéº»çƒ¦ï¼‰å¾®åšä¸­è§£æå‡ºè¯é¢˜ï¼Œæ‰¾å‡ºè¢«æœ€å¤šæ¡å¾®åšæåˆ°çš„è¯é¢˜ã€‚

è¾“å…¥æ ¼å¼:
    è¾“å…¥é¦–å…ˆç»™å‡ºä¸€ä¸ªæ­£æ•´æ•°Nï¼ˆâ‰¤10^5ï¼‰ï¼ŒéšåNè¡Œï¼Œæ¯è¡Œç»™å‡ºä¸€æ¡è‹±æ–‡å¾®åšï¼Œå…¶é•¿åº¦ä¸è¶…è¿‡140ä¸ªå­—ç¬¦ã€‚ä»»ä½•åŒ…å«åœ¨ä¸€å¯¹æœ€è¿‘çš„#ä¸­çš„å†…å®¹å‡è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªè¯é¢˜ï¼Œè¾“å…¥ä¿è¯#æˆå¯¹å‡ºç°ã€‚
è¾“å‡ºæ ¼å¼:
    ç¬¬ä¸€è¡Œè¾“å‡ºè¢«æœ€å¤šæ¡å¾®åšæåˆ°çš„è¯é¢˜ï¼Œç¬¬äºŒè¡Œè¾“å‡ºå…¶è¢«æåˆ°çš„å¾®åšæ¡æ•°ã€‚å¦‚æœè¿™æ ·çš„è¯é¢˜ä¸å”¯ä¸€ï¼Œåˆ™è¾“å‡ºæŒ‰å­—æ¯åºæœ€å°çš„è¯é¢˜ï¼Œå¹¶åœ¨ç¬¬ä¸‰è¡Œè¾“å‡ºAnd k more ...ï¼Œå…¶ä¸­kæ˜¯å¦å¤–å‡ æ¡çƒ­é—¨è¯é¢˜çš„æ¡æ•°ã€‚è¾“å…¥ä¿è¯è‡³å°‘å­˜åœ¨ä¸€æ¡è¯é¢˜ã€‚

    æ³¨æ„ï¼šä¸¤æ¡è¯é¢˜è¢«è®¤ä¸ºæ˜¯ç›¸åŒçš„ï¼Œå¦‚æœåœ¨å»æ‰æ‰€æœ‰éè‹±æ–‡å­—æ¯å’Œæ•°å­—çš„ç¬¦å·ã€å¹¶å¿½ç•¥å¤§å°å†™åŒºåˆ«åï¼Œå®ƒä»¬æ˜¯ç›¸åŒçš„å­—ç¬¦ä¸²ï¼›åŒæ—¶å®ƒä»¬æœ‰å®Œå…¨ç›¸åŒçš„åˆ†è¯ã€‚è¾“å‡ºæ—¶é™¤é¦–å­—æ¯å¤§å†™å¤–ï¼Œåªä¿ç•™å°å†™è‹±æ–‡å­—æ¯å’Œæ•°å­—ï¼Œå¹¶ç”¨ä¸€ä¸ªç©ºæ ¼åˆ†éš”åŸæ–‡ä¸­çš„å•è¯ã€‚
è¾“å…¥æ ·ä¾‹:
    4
    This is a #test of topic#.
    Another #Test of topic.#
    This is a #Hot# #Hot# topic
    Another #hot!# #Hot# topic
è¾“å‡ºæ ·ä¾‹:
    Hot
    2
    And 1 more ...
ä»£ç é•¿åº¦é™åˆ¶
    16 KB
æ—¶é—´é™åˆ¶
    300 ms
å†…å­˜é™åˆ¶
    64 MB
*/