#include <iostream>
#include <vector>

using namespace std;

typedef vector<int> FriendSet;

// ç®€å•å¹¶æŸ¥é›†
class UnionFind
{
private:
    int size;
    vector<int> parents; // å„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹
    vector<int> counts;  // å„èŠ‚ç‚¹å¯¹åº”å­æ ‘çš„èŠ‚ç‚¹æ•°
public:
    UnionFind(int size)
    {
        this->size = size;
        // åˆå§‹åŒ–å¹¶æŸ¥é›†
        parents.resize(size);
        counts.resize(size, 1); // åˆå§‹æ‰€æœ‰èŠ‚ç‚¹è®¡æ•°ä¸º1
        // åˆå§‹: æ‰€æœ‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å°±æ˜¯è‡ªå·±
        for (int i = 0; i < size; i++)
            parents[i] = i;
    }
    // æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ æ‰€åœ¨çš„æ ‘çš„æ ¹ç»“ç‚¹
    int find(int elem)
    {
        // è®¿é—®çš„å°±æ˜¯æ ‘çš„æ ¹ç»“ç‚¹ï¼Œè¿”å›
        // æ ¹ç»“ç‚¹çš„çˆ¶èŠ‚ç‚¹å°±æ˜¯è‡ªå·±
        if (parents[elem] == elem)
        {
            return elem;
        }
        else
        {
            // è·¯å¾„å‹ç¼©, å¦‚æœå½“å‰ä¸æ˜¯æ ¹ç»“ç‚¹çš„å­©å­ï¼Œå°±å°†å…¶è½¬æ¢ä¸ºå…¶å­©å­
            return parents[elem] = find(parents[elem]);
        }
    }
    // å°†ä¸¤ä¸ªå…ƒç´ å¯¹åº”çš„é›†åˆ(æ ‘)åˆå¹¶
    void merge(int first, int second)
    {
        int root1 = find(first);  // æ‰¾åˆ°å…ƒç´ 1æ‰€åœ¨æ ‘çš„æ ¹ç»“ç‚¹
        int root2 = find(second); // æ‰¾åˆ°å…ƒç´ 2æ‰€åœ¨æ ‘çš„æ ¹ç»“ç‚¹
        if (root1 == root2)       // ä¸¤å…ƒç´ æ‰€åœ¨æ ‘ç›¸åŒæ—¶ä¸è¦æ“ä½œ!!!!!!!!!!!!!-------------å®¹æ˜“æ¼æ‰!ğŸ’¡
            return;
        // å°†å…ƒç´ è¾ƒå°‘çš„æ ‘å¹¶å…¥å…ƒç´ è¾ƒå¤šçš„
        if (counts[root1] > counts[root2])
        {
            parents[root2] = root1;
            counts[root1] += counts[root2]; // å…ƒç´ 1å¯¹åº”çš„å­æ ‘ç»“ç‚¹è®¡æ•°å¢åŠ 
        }
        else
        {
            parents[root1] = root2;
            counts[root2] += counts[root1];
        }
    }
    // æ‰¾åˆ°æœ€å¤§å…ƒç´ æ•°çš„é›†åˆ
    int maxCount()
    {
        int max = 0;
        for (int i = 0; i < size; i++)
        {
            // æ‰«ææ‰€æœ‰æ ¹èŠ‚ç‚¹å³å¯
            if (parents[i] == i && counts[i] > max)
                max = counts[i];
        }
        return max;
    }
};

int main()
{
    int stuNum, clubNum; // å­¦ç”Ÿæ€»æ•°å’Œä¿±ä¹éƒ¨æ•°
    cin >> stuNum >> clubNum;
    UnionFind uf(stuNum); // åˆå§‹åŒ–å¹¶æŸ¥é›†
    for (int i = 0; i < clubNum; i++)
    {
        int clubStu, firstStu;
        // è¯»å…¥ä¿±ä¹éƒ¨äººæ•°å’Œä¿±ä¹éƒ¨ä¸­ç¬¬ä¸€ä¸ªå­¦ç”Ÿ
        // è¿™é‡Œä¸é€‰ç¬¬ä¸€ä¸ªå­¦ç”Ÿä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œé€‰ç¬¬ä¸€ä¸ªåªæ˜¯å› ä¸ºæ“ä½œæ–¹ä¾¿
        cin >> clubStu >> firstStu;
        // è¯»å…¥ä¿±ä¹éƒ¨çš„å…¶ä»–å­¦ç”Ÿ
        for (int j = 1; j < clubStu; j++)
        {
            int anotherStu;
            cin >> anotherStu;
            // æ³¨æ„ï¼Œå¹¶æŸ¥é›†é‡Œç¼–å·æ˜¯0~N-1
            // è¿™é‡Œåˆ©ç”¨å¹¶æ“ä½œæŠŠæ‰€æœ‰æœ‰å…³ç³»çš„æœ‹å‹éƒ½é›†åˆèµ·æ¥ï¼Œæˆä¸ºä¸€ä¸ªæœ‹å‹åœˆé›†åˆ
            uf.merge(firstStu - 1, anotherStu - 1);
        }
    }
    cout << uf.maxCount();
    return 0;
}

/*
    è§‚å¯Ÿé¢˜ç›®: â€œä¸åŒçš„ä¿±ä¹éƒ¨â€ï¼Œâ€œå¦‚æœAå’ŒBæ˜¯æœ‹å‹ï¼Œä¸”Bå’ŒCæ˜¯æœ‹å‹ï¼Œåˆ™Aå’ŒCä¹Ÿæ˜¯æœ‹å‹â€ï¼Œâ€œæœ‹å‹åœˆâ€ï¼Œå¯ä»¥å‘ç°ï¼Œé¢˜ç›®åœ¨è¯•å›¾æè¿°ä¸€ç§é›†åˆçš„æ„é€ æ–¹æ³•â€”â€”
        â€”â€” æ²¡é”™ï¼Œè¿™é‡Œè¦æ±‚çš„é›†åˆå°±æ˜¯â€œæœ‹å‹åœˆâ€ï¼Œä¸åŒçš„æœ‹å‹åœˆä¹‹é—´ä¹Ÿæ˜¯äº’ä¸ç›¸äº¤çš„ã€‚
    é¢˜ç›®è¦æ±‚æ‰¾åˆ°â€œæœ€å¤§â€çš„æœ‹å‹åœˆï¼Œå…¶å®å°±æ˜¯è¦æ‰¾åˆ°ã€å…ƒç´ æœ€å¤šçš„é›†åˆ(æœ‹å‹åœˆ)ã€‘ã€‚

    æ€ä¹ˆæ„é€ è¿™äº›æœ‹å‹åœˆé›†åˆå‘¢ï¼Ÿ

        1. å­¦ç”Ÿå’Œå­¦ç”ŸåŸæœ¬æ˜¯ã€ç‹¬ç«‹çš„å…ƒç´ ã€‘ï¼Œå¦‚æœæŠŠä»–ä»¬æ’’å…¥ã€æ£®æ—ã€‘ä¸­ï¼Œä»–ä»¬ã€è‡ªèº«å°±æ˜¯ä¸€æ£µæ ‘(ä¹Ÿæ˜¯ä¸€ä¸ªé›†åˆ)ã€‘ï¼Œè¿™äº›æ ‘ä¹‹é—´ã€æ²¡æœ‰ç›¸åŒçš„èŠ‚ç‚¹ã€‘ï¼Œä»é›†åˆçš„è§’åº¦æ¥çœ‹ã€ä»–ä»¬äº’ä¸ç›¸äº¤ã€‘ã€‚

        2. é¢˜ç›®ç”¨â€œä¿±ä¹éƒ¨â€æè¿°äº†å­¦ç”Ÿå’Œå­¦ç”Ÿä¹‹é—´çš„å…³ç³»ï¼ŒåŒä¸€ä¸ªä¿±ä¹éƒ¨çš„å­¦ç”Ÿäº’ä¸ºæœ‹å‹ï¼Œä¹Ÿå°±æ˜¯ä»–ä»¬ã€åœ¨ä¸€ä¸ªæœ‹å‹åœˆä¸­ã€‘ã€‚
            ä»é›†åˆè§’åº¦æ¥çœ‹ï¼Œä»–ä»¬ã€åº”å¤„äºä¸€ä¸ªé›†åˆä¸­ã€‘; ä»æ ‘çš„è§’åº¦çœ‹ï¼Œä»–ä»¬å¤„äºåŒä¸€æ£µæ ‘ã€‚

        3. å› æ­¤ç¨‹åºè¦åšçš„ï¼Œå°±æ˜¯ã€æŒ‰ç…§ä¿±ä¹éƒ¨ã€‘å°†ã€äº’ä¸ç›¸äº¤çš„å­¦ç”Ÿé›†åˆå¹¶èµ·æ¥ã€‘ï¼Œå½¢æˆã€æœ‹å‹åœˆé›†åˆã€‘ã€‚
            ä»æ ‘çš„è§’åº¦æ¥çœ‹ï¼Œå°±æ˜¯æŠŠæœ‰å…³è”çš„æ ‘éƒ½è¿æ¥èµ·æ¥ã€‚

    çœ‹åˆ°è¿™é‡Œï¼Œç¨‹åºéœ€è¦çš„æ•°æ®ç»“æ„å°±å¾ˆæ˜äº†äº†â€”â€” ã€å¹¶æŸ¥é›†ã€‘ ï¼
    ---------------------------------
    å…·ä½“æ€è·¯çœ‹ä»£ç çš„æ³¨é‡Šå³å¯ï¼Œè¿™é‡Œç®€å•å†™ä¸€ä¸‹å¹¶æŸ¥é›†çš„åŸºç¡€:

        - å¹¶æŸ¥é›†ä¸­ã€æ‰€æœ‰å…ƒç´ éƒ½æ˜¯ä¸ç›¸åŒã€‘çš„ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ç”¨ã€æ•°ç»„æ¥å‚¨å­˜ã€‘ï¼Œé€šè¿‡è®¡ç®—å“ˆå¸Œä½œä¸ºä¸‹æ ‡æ¥è®¿é—®å…ƒç´ (æœ¬é¢˜ä¸­æ˜¯ç”¨å…ƒç´ å€¼ã€å­¦ç”Ÿç¼–å·ã€‘ç›´æ¥å®šå€)ã€‚

        - å¹¶æŸ¥é›†éœ€è¦ç»´æŠ¤ä¸€ä¸ªã€çˆ¶äº²æ•°ç»„ã€‘ï¼Œç¬¬iå·ä¸‹æ ‡å¯¹åº”çš„å€¼ä»£è¡¨iå·å…ƒç´ çš„çˆ¶èŠ‚ç‚¹ç¼–å·ã€‚

        - æœ¬é¢˜çš„å¹¶æŸ¥é›†è¿˜ç»´æŠ¤äº†ä¸€ä¸ªã€è®¡æ•°æ•°ç»„ã€‘ï¼Œç”¨äºã€è®°å½•é›†åˆ(æ ‘)ä¸­çš„å…ƒç´ æ•°é‡ã€‘ï¼Œå€Ÿæ­¤æ‰èƒ½æ±‚å‡ºã€æœ€å¤§çš„æœ‹å‹åœˆã€‘ã€‚

        0. åˆå§‹åŒ–(Initialization)

            åˆå§‹åŒ–æ—¶ï¼Œæ‰€æœ‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€å°±æ˜¯è‡ªå·±ã€‘ï¼Œè¿™ä»£è¡¨æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯æ ¹èŠ‚ç‚¹ã€‚åœ¨æœ¬é¢˜ä¸­çš„æ„æ€æ˜¯: ã€æ¯ä¸ªå­¦ç”Ÿéƒ½æ˜¯ä¸€ä¸ªé›†åˆ, ä»–ä»¬äº’ä¸ç›¸äº¤ã€‘ã€‚

        1. æŸ¥è¯¢(Find) - æ‰¾åˆ°å…ƒç´ å±äºå“ªä¸ªé›†åˆ(æ‰¾åˆ°å…ƒç´ æ‰€åœ¨æ ‘çš„ã€æ ¹èŠ‚ç‚¹ã€‘)

            é€šè¿‡å…ƒç´ å€¼valé¦–å…ˆå¯ä»¥ç›´æ¥è®¿é—®åˆ°å…ƒç´ çš„çˆ¶èŠ‚ç‚¹parents[val]ï¼Œå¦‚æœparents[val]!=valå°±è¯´æ˜æ²¡åˆ°æ ¹èŠ‚ç‚¹ï¼Œè¦ç»§ç»­é€’å½’ç›´è‡³ã€æ‰¾åˆ°æ ¹èŠ‚ç‚¹ã€‘ã€‚

            è¿™ä¸ªè¿‡ç¨‹ä¸­å…¶å®è¿˜å¯ä»¥é¡ºå¸¦è¿›è¡Œã€è·¯å¾„å‹ç¼©ã€‘æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœã€è¯¥å…ƒç´ çš„çˆ¶äº²ä¸æ˜¯æ ¹èŠ‚ç‚¹ã€‘ï¼Œå°±è°ƒæ•´å…¶ç›´åˆ°ã€è¯¥å…ƒç´ ä¸æ ¹èŠ‚ç‚¹ç›¸è¿ã€‘ã€‚

                * åœ¨é€’å½’ä¸­ï¼Œåªéœ€è¦ã€å°†é€’å½’å‡½æ•°è¿”å›çš„èŠ‚ç‚¹ä¸‹æ ‡èµ‹ç»™parents[val]å³å¯ã€‘ã€‚

        2. åˆå¹¶(Union) - åˆå¹¶ä¸¤ä¸ªã€äº’ä¸ç›¸äº¤ã€‘çš„é›†åˆ

            æœ¬è´¨ä¸Šçš„æ“ä½œå°±æ˜¯ã€æŠŠä¸€æ£µæ ‘çš„æ ¹èŠ‚ç‚¹ä½œä¸ºå¦ä¸€æ£µæ ‘çš„å­©å­ã€‘ã€‚

            è¿™é‡Œä¸ºäº†å°½é‡ä¸å¢åŠ å¤æ‚åº¦ï¼Œå°±å°½é‡å°†ã€èŠ‚ç‚¹æ•°æ›´å°çš„æ ‘ã€‘(å…ƒç´ æ›´å°‘çš„é›†åˆ)åˆå¹¶åˆ°ã€èŠ‚ç‚¹æ•°æ›´å¤šçš„æ ‘ã€‘(å…ƒç´ æ›´å¤šçš„é›†åˆ)ä¹‹ä¸­ã€‚

    æ€»çš„æ¥è¯´ï¼Œå¹¶æŸ¥é›†ä¸ç®—å¾ˆéš¾ï¼Œä½†æ˜¯ä»é¢˜ç›®ä¸­ã€æ‰¾åˆ°åˆå¹¶å’ŒæŸ¥è¯¢çš„è¦æ±‚ã€‘æ˜¯ä¸€å¤§è€ƒç‚¹ã€‚

        - SomeBottle 2023.1.18

*/